<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Do have faith in what you are doing."><title>javascript中的数据类型 | Keep Coding</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-50745138-1','auto');ga('send','pageview');
</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = 'https://hm.baidu.com/hm.js?' + '3ffc15f400ce3f8b1db5afc4f29b6ce9';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();</script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">javascript中的数据类型</h1><a id="logo" href="/.">Keep Coding</a><p class="description">Stay hungry, Stay foolish</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/blogrolls/"><i class="fa fa-group"> 友情链接</i></a><a href="/podcast/"><i class="fa fa-podcast"> Podcast</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">javascript中的数据类型</h1><div class="post-meta">Feb 24, 2015<span> | </span><span class="category"><a href="/categories/langs/">编程语言</a></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 2.2k</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-hourglass-half"></i><span class="post-count"> 8</span><span class="post-meta-item-text"> 分钟</span></span></span></div><a class="disqus-comment-count" data-disqus-identifier="blog/2015/02/24/javascript-datatype/" href="/blog/2015/02/24/javascript-datatype/#disqus_thread"></a><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#弱类型-vs-强类型"><span class="toc-number">1.</span> <span class="toc-text">弱类型 vs 强类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据类型"><span class="toc-number">2.</span> <span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#基本数据类型"><span class="toc-number">2.1.</span> <span class="toc-text">基本数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#基本类型的string与对象类型的string区别"><span class="toc-number">2.1.1.</span> <span class="toc-text">基本类型的string与对象类型的string区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#null与undefined"><span class="toc-number">2.1.2.</span> <span class="toc-text">null与undefined</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对象类型"><span class="toc-number">2.2.</span> <span class="toc-text">对象类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#属性描述符"><span class="toc-number">2.2.1.</span> <span class="toc-text">属性描述符</span></a></li></ol></li></ol></li></ol></div></div><div class="post-content"><p>学一门编程语言，无非两方面：一是语法，二是数据类型。类C语言的语法不外乎if、while、for、函数、算术运算等，面向对象的语言再加上object。<br>语法只是语言设计者预先做的一套规则，不同语言语法不尽相同，但都有一些共通点，对于熟悉一两门编程语言的人，学其他的编程语言时，语法往往不是问题（当然，如果你一直学的是类C语言，那么首次接触lisp时肯定也要花些时间），学习的重点往往是数据类型及其相关操作上，不是有句老话：“数据结构＋算法＝程序”！其次，有些语言的语法本身就存在设计问题（javascript更甚），我们没必要深究这些点，当然，如果你自诩geek，可以把玩把玩。</p>
<p>本文将对javascript中的数据类型做一个详尽的介绍。</p>
<h2 id="弱类型-vs-强类型"><a href="#弱类型-vs-强类型" class="headerlink" title="弱类型 vs 强类型"></a>弱类型 vs 强类型</h2><p>鉴于javascript的<a href="/blog/2015/02/01/javascript-oop/#设计理念">设计理念</a>，javascript被设计成一种弱类型的语言。<br>说到这里，难免要说一下，弱类型与强类型的区别。<br>一些人会误以为这两者的差别就是“强类型的语言在声明一个变量时需要指明它的类型，而弱类型的则不用”。其实这种观点是错误的。比如下面这个Java代码片段：<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">String s</span> = <span class="string">"hello"</span>;</span><br><span class="line"><span class="attribute">int l</span> = s.getBytes().length;</span><br></pre></td></tr></table></figure></p>
<p>编译器是怎么知道<code>.length</code>是合法的表达式呢？这是因为编译器知道<code>s</code>的数据类型为<code>String</code>，当调用<code>String</code>的<code>getBytes</code>方法时，返回值的数据类型为<code>byte[]</code>，所以<code>.length</code>是合法的表达式。<br>这两者真正的区别是：  </p>
<blockquote>
<p>在强类型的语言，每个表达式的类型都能够在编译时确定，并且只允许适用于该类型的操作；<br>弱类型的语言允许对任意类型施加任何操作，只是这个操作有可能在运行时报错。</p>
</blockquote>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>根据<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-8" target="_blank" rel="noopener">ECMAScript 5.1</a>的规范，javascript中共有六种数据类型，分别为：<code>Undefined</code>, <code>Null</code>, <code>Boolean</code>, <code>Number</code>, <code>String</code>、<code>Object</code>。前五种属于基本类型，最后一种属于对象类型。</p>
<h3 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h3><ul>
<li><code>Undefined</code>类型只有一个值，为<code>undefined</code>，意味着“空值(no value)”，适用于所有数据类型。</li>
<li><code>Null</code>类型只有一个值，为<code>null</code>，意味着“空对象(no object)”，只适用于对象类型。</li>
<li><code>Boolean</code>类型有两个值，为<code>true</code>与<code>false</code></li>
<li><code>Number</code>类型的值是遵循IEEE 754标准的64位浮点数的集合，类似于Java的double。没有整型数据结构。此外还包含三个特殊的值：<code>NaN</code>、<code>Infinity</code>、<code>-Infinity</code></li>
<li><code>String</code>类型的值是有穷个Unicode字符的集合。必须用<code>&#39;</code>或<code>&quot;</code>括起来。</li>
</ul>
<h4 id="基本类型的string与对象类型的string区别"><a href="#基本类型的string与对象类型的string区别" class="headerlink" title="基本类型的string与对象类型的string区别"></a>基本类型的string与对象类型的string区别</h4><p>在javascript是区分基本类型的string与对象类型的string（Number、Boolean与之类似）。</p>
<ul>
<li>使用字面量方式创建的字符串，为基本类型的string</li>
<li>使用<code>String()</code>创建的字符串，为基本类型的string</li>
<li>使用<code>new String()</code>的方式创建的字符串，为对象类型的string<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">str1 </span>= <span class="string">"javascript"</span></span><br><span class="line"><span class="keyword">str2 </span>= <span class="keyword">String("javascript")</span></span><br><span class="line"><span class="keyword">str3 </span>= new <span class="keyword">String("javascript")</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="keyword">&gt; </span>typeof <span class="keyword">str1</span></span><br><span class="line"><span class="keyword">"string"</span></span><br><span class="line"><span class="keyword">&gt; </span>typeof <span class="keyword">str2</span></span><br><span class="line"><span class="keyword">"string"</span></span><br><span class="line"><span class="keyword">&gt; </span>typeof <span class="keyword">str3</span></span><br><span class="line"><span class="keyword">"object"</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>javascript会在合适的时候自动把基本类型的string转为对象类型的string，也就是说我们可以对基本类型string使用<code>String.prototype</code>中的方法。这两者也可以进行显式转化。<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 基本类型-----&gt;对象类型</span><br><span class="line"><span class="keyword">str1 </span>= <span class="string">"javascript"</span></span><br><span class="line"><span class="keyword">str1 </span>= new <span class="keyword">String(str1)</span></span><br><span class="line"><span class="keyword">&gt; </span>typeof <span class="keyword">str1</span></span><br><span class="line"><span class="keyword">"object"</span></span><br><span class="line"><span class="keyword">// </span>对象类型-----&gt;基本类型</span><br><span class="line"><span class="keyword">str1 </span>= new <span class="keyword">String("javascript")</span></span><br><span class="line"><span class="keyword">str1 </span>= <span class="keyword">str1.valueOf()</span></span><br><span class="line"><span class="keyword">&gt; </span>typeof <span class="keyword">str1</span></span><br><span class="line"><span class="keyword">"string"</span></span><br></pre></td></tr></table></figure></p>
<p>这两者用在<code>eval</code>函数中时，结果有所区别：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="string">'2 + 2'</span>;</span><br><span class="line"><span class="keyword">var</span> s2 = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'2 + 2'</span>);</span><br><span class="line">&gt; <span class="built_in">eval</span>(s1)</span><br><span class="line"><span class="number">4</span></span><br><span class="line">&gt; <span class="built_in">eval</span>(s2)</span><br><span class="line">[<span class="built_in">String</span>: <span class="string">'2 + 2'</span>]   <span class="comment">//这里还是返回的string对象</span></span><br></pre></td></tr></table></figure></p>
<h4 id="null与undefined"><a href="#null与undefined" class="headerlink" title="null与undefined"></a>null与undefined</h4><p><code>null</code>与<code>undefined</code>都表示“没有值(non-value)”的概念，如果严格区分：</p>
<ul>
<li><code>null</code>表示空</li>
<li><code>undefined</code>表示不存在。没有初始化的变量、函数中缺失的参数、函数没有显式return值时都为此值</li>
</ul>
<p>在其他语言中，一般只用一个null来表示空值，javascript中为什么多了个undefined呢？这是历史原因造成的：</p>
<blockquote>
<p>javascript采用了Java的语法，把类型分为了基本类型与对象类型，Java中用null来表示空对象，javascript想当然的继承了过来；在C语言中，null在转为数字时为0，javascript也采取同样的方式：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&gt;</span> <span class="string">Number(null)</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="string">&gt;</span> <span class="number">5</span> <span class="string">+</span> <span class="literal">null</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>在javascript1.0时，还没有异常处理(exception handling)，对于一些异常情况（没有初始化的变量、调用函数时缺失的参数等），需要标明为一种特殊的值，<code>null</code>本来是个很好的选择，但是Brendan Eich同时想避免下面两件事：</p>
<ul>
<li>这个特殊值不应该有引用的特性，因为那是对象特有的</li>
<li>这个特殊值不应该能转为0，因为这样不容易发现程序中的错误</li>
</ul>
</blockquote>
<blockquote>
<p>基于这两个原因，Brendan Eich选择了<code>undefined</code>，它可以被强转为<code>NaN</code>。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">Number</span>(<span class="literal">undefined</span>)</span><br><span class="line"><span class="literal">NaN</span></span><br><span class="line">&gt; <span class="number">5</span> + <span class="literal">undefined</span></span><br><span class="line"><span class="literal">NaN</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>两者在于JSON对象打交道时，结果也迥然不同：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">JSON</span>.parse(<span class="literal">null</span>)</span><br><span class="line"><span class="literal">null</span></span><br><span class="line">&gt; <span class="built_in">JSON</span>.parse(<span class="literal">undefined</span>)</span><br><span class="line"><span class="comment">//Firfox SyntaxError: JSON.parse: unexpected character at line 1 column 1 of the JSON data</span></span><br><span class="line"><span class="comment">//Chrome SyntaxError: Unexpected token u</span></span><br><span class="line"></span><br><span class="line">&gt; <span class="built_in">JSON</span>.stringify(<span class="literal">null</span>)</span><br><span class="line"><span class="string">"null"</span></span><br><span class="line">&gt; <span class="built_in">JSON</span>.stringify(<span class="literal">undefined</span>)</span><br><span class="line"><span class="literal">undefined</span></span><br></pre></td></tr></table></figure></p>
<h3 id="对象类型"><a href="#对象类型" class="headerlink" title="对象类型"></a>对象类型</h3><p>javascript作为一门<a href="http://en.wikipedia.org/wiki/Scripting_language" target="_blank" rel="noopener">脚本语言</a>，本身功能十分精简，很多功能（文件读写、网络等）都是由宿主环境提供。宿主环境与javascript语言的桥梁是对象，宿主环境通过提供一系列符合javascript语法的对象，提供各种各样的功能。</p>
<p>在<a href="/blog/2015/02/01/javascript-oop">javascript面向对象编程</a>这篇文章（如果你不知道prototype是什么，强烈建议看看这篇文章）里，我多次强调了<code>对象在javascript中就是一系列的键值对</code>，就像Java中的HashMap一样，不过，javascript中对象的属性可以有一些描述符(property descriptor)，这在HashMap中是没有的。</p>
<h4 id="属性描述符"><a href="#属性描述符" class="headerlink" title="属性描述符"></a>属性描述符</h4><p>属性描述符分为两类：</p>
<ul>
<li>数据描述符(data descriptor)，包含一系列boolean值，用以说明该属性是否允许修改、删除。</li>
<li>访问描述符(accessor descriptor)，包含get与set函数。</li>
</ul>
<p>这两种描述符都是对象，它们都拥有下面两个boolean属性：</p>
<ul>
<li>configurable 用以指定该描述符是否允许修改、删除。默认为false。</li>
<li>enumerable 用以指定在遍历对象（使用<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in" target="_blank" rel="noopener">for…in循环</a>或<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys" target="_blank" rel="noopener">Object.keys方法</a>）的属性时，是否访问该属性。默认为false。</li>
</ul>
<p>除了上面这两个共有属性外，数据描述符还有下面两个属性：</p>
<ul>
<li>value 用以指定该属性的值，默认为undefined</li>
<li>writable 用以指定该属性的值是否允许改变该属性的值，默认为false</li>
</ul>
<p>访问描述符还有下面两个属性：</p>
<ul>
<li>get 用以指定访问该属性时的访问器(getter，本质是个函数)，该访问器的返回值为该属性的值。默认为undefined</li>
<li>set 用以指定访问该属性时的赋值器(setter，本质是个函数)，该赋值器的接受一个参数。默认为undefined</li>
</ul>
<p>我们可以使用<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noopener">Object.defineProperty</a>来设置对象的属性描述符。例如：<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// using __proto__</span></span><br><span class="line">Object.defineProperty(obj, <span class="string">'key'</span>, &#123;</span><br><span class="line">  __proto__: <span class="literal">null</span>, <span class="comment">// no inherited properties</span></span><br><span class="line">  <span class="keyword">value</span>: <span class="string">'static'</span>  <span class="comment">// not enumerable</span></span><br><span class="line">                   <span class="comment">// not configurable</span></span><br><span class="line">                   <span class="comment">// not writable</span></span><br><span class="line">                   <span class="comment">// as defaults</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>通过上面这个例子可以看出，描述符具有继承的特点，我们这里显式的把描述符对象的<code>__proto__</code>设为<code>null</code>，就避免了从<code>Object.prototype</code>中继承相应属性。当然我们也可以显式地设置描述符的所有属性：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//</span> <span class="string">being</span> <span class="string">explicit</span></span><br><span class="line"><span class="string">Object.defineProperty(obj,</span> <span class="string">'key'</span><span class="string">,</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="attr">enumerable:</span> <span class="literal">false</span><span class="string">,</span></span><br><span class="line">  <span class="attr">configurable:</span> <span class="literal">false</span><span class="string">,</span></span><br><span class="line">  <span class="attr">writable:</span> <span class="literal">false</span><span class="string">,</span></span><br><span class="line">  <span class="attr">value:</span> <span class="string">'static'</span></span><br><span class="line"><span class="string">&#125;);</span></span><br></pre></td></tr></table></figure></p>
<p>这样的效果和第一段代码的效果是一样的。</p>
<p>下面再举一个访问描述符的例子：<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Example of an object property added with defineProperty with an accessor property descriptor</span></span><br><span class="line"><span class="keyword">var</span> bValue = <span class="number">38</span>;</span><br><span class="line">Object.defineProperty(obj, <span class="string">'key'</span>, &#123;</span><br><span class="line">  <span class="keyword">get</span>: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> bValue; &#125;,</span><br><span class="line">  <span class="keyword">set</span>: <span class="function"><span class="keyword">function</span><span class="params">(newValue)</span> </span>&#123; bValue = newValue; &#125;,</span><br><span class="line">  enumerable: <span class="literal">true</span>,</span><br><span class="line">  configurable: <span class="literal">true</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>需要注意的是，不能混淆了访问描述器与数据描述器。下面这样写是错误的：<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// You cannot try to mix both:</span></span><br><span class="line">Object.defineProperty(obj, <span class="string">'conflict'</span>, &#123;</span><br><span class="line">  value: <span class="number">0x9f91102</span>,</span><br><span class="line">  <span class="keyword">get</span>: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="number">0xdeadbeef</span>; &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// throws a TypeError: property descriptors must not specify a value</span></span><br><span class="line"><span class="comment">// or be writable when a getter or setter has been specified</span></span><br></pre></td></tr></table></figure></p>
<p>##typeof</p>
<p>如果想在运行时获知某变量的类型，可以使用typeof操作符。typeof的返回值如下表：</p>
<center><br><img src="http://img01.taobaocdn.com/imgextra/i1/581166664/TB2WufjbVXXXXX1XpXXXXXXXXXX_!!581166664.png" alt="typeof-values"><br></center>

<p>其中有一处需要注意，那就是<code>typeof null == &quot;object&quot;</code>，按照<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-4.3.2" target="_blank" rel="noopener">ECMAScript 5.1</a>标准，<code>Null</code>类型应该是个基本类型，为什么这里返回<code>object</code>呢？原因是这样的：</p>
<blockquote>
<p>在javascript 1.0中，javascript中的值是用一个类型标志（type tag）和一个实际值这样的结构表示的，对象的类型标志为0，null在C语言中表示NULL指针（0x00），所以null的类型标志就为0了。</p>
</blockquote>
<p>##参考</p>
<ul>
<li><a href="http://speakingjs.com/es5/ch08.html#undefined_null" target="_blank" rel="noopener">《Speaking JavaScript》 Chapter 8. Values</a></li>
<li><a href="http://javascript.crockford.com/survey.html" target="_blank" rel="noopener">A Survey of the JavaScript Programming Language</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noopener">Object.defineProperty</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noopener">Standard built-in objects String</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof" target="_blank" rel="noopener">typeof</a></li>
<li><a href="http://www.2ality.com/2013/10/typeof-null.html" target="_blank" rel="noopener">The history of “typeof null”</a> （需翻墙）</li>
</ul>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a class="article-share-link" data-url="http://liujiacai.net/blog/2015/02/24/javascript-datatype/" data-id="ckdkzhqmz001r6yljw2jlkfgg" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACK0lEQVR42u3aMXLDQAgF0Nz/0k6bwpI/sM6Mdp+qTEaWeC4wsPz8xNfr9vp7z9X998+8+s/iCwMD47GMPMRqWMlnq++9jAEDA+MAxlVYV/ckiTJPoPeJ+/5+DAwMjJyUFIvV52NgYGBMEm706FbaxcDAwJg0sdXyLi8o87Hdgl4cAwPjgYx86v7/f3/lfAMDA+NRjFfxWsW7D7QcFQYGxtaMatl3X+pVDzInCRcDA+M0Rh5Q3oJO0nS1GcbAwNibkRdevf44CasXQ7nCxcDAeCyjWsxVi8WkGe6tlH0438DAwNiI0Wsm8wIub2J7b3/zu4GBgbEdI29H8yQ4H6L1FsUwMDB2ZUwCzb+n5FP5stebN2JgYBzDqK5NTIZr8+PSD1NDDAyM7RjV8da8+aw+s7AtgoGBcQwjX3fIjyTzUq+wIYKBgXEAIxl15YOwfM1r7VIaBgbGCYzk1rXDtcnXh4GBcSbje0eM8wPRwrIFBgbGMYxq+5oEND9IaG6OYGBgbMQoi1uDs3xsV03ZGBgYZzKqB5bVxa/eysWHBhgDA+MARl7k5eO5JLFWy8qoC8fAwNiI8Spe1cFcMlBb3H9jYGBsx+iNxvIku2pRrPfDgIGBsRNjbZKdf3PNGDAwMA5gTJrV5JizOkqrRouBgYGRvLK3+FVdC1uccDEwMI5hVJHzw4DLJhYDA2NrRr4wUW04kyJycicGBsYJjF7d1Tsq6B0PzFtfDAyMxzJ+AT+eIuBUComxAAAAAElFTkSuQmCC">分享</a><div class="tags"><a href="/tags/javascript/">JavaScript</a></div><div class="post-nav"><a class="pre" href="/blog/2015/04/03/leave-ucloud-to-youzan/">我来有赞了</a><a class="next" href="/blog/2015/02/01/javascript-oop/">javascript中的面向对象编程</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">阅读评论（请确保 Disqus 可以正常加载）</button></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'http://liujiacai.net/blog/2015/02/24/javascript-datatype/';
    this.page.identifier = 'blog/2015/02/24/javascript-datatype/';
    this.page.title = 'javascript中的数据类型';
  };</script><script type="text/javascript" id="disqus-lazy-load-script">$.ajax({
url: 'https://disqus.com/next/config.json',
timeout: 2500,
type: 'GET',
success: function(){
  var d = document;
  var s = d.createElement('script');
  s.src = '//jiacai2050.disqus.com/embed.js';
  s.setAttribute('data-timestamp', + new Date());
  (d.head || d.body).appendChild(s);
  $('.disqus_click_btn').css('display', 'none');
},
error: function() {
  $('.disqus_click_btn').css('display', 'block');
}
});</script><script type="text/javascript" id="disqus-click-load">$('.btn_click_load').click(() => {  //click to load comments
    (() => { // DON'T EDIT BELOW THIS LINE
        var d = document;
        var s = d.createElement('script');
        s.src = '//jiacai2050.disqus.com/embed.js';
        s.setAttribute('data-timestamp', + new Date());
        (d.head || d.body).appendChild(s);
    })();
    $('.disqus_click_btn').css('display','none');
});</script><script type="text/javascript" id="disqus-count-script">$(function() {
     var xhr = new XMLHttpRequest();
     xhr.open('GET', '//disqus.com/next/config.json', true);
     xhr.timeout = 2500;
     xhr.onreadystatechange = function () {
       if (xhr.readyState === 4 && xhr.status === 200) {
         $('.post-meta .post-comments-count').show();
         var s = document.createElement('script');
         s.id = 'dsq-count-scr';
         s.src = 'https://jiacai2050.disqus.com/count.js';
         s.async = true;
         (document.head || document.body).appendChild(s);
       }
     };
     xhr.ontimeout = function () { xhr.abort(); };
     xhr.send(null);
   });
</script></div></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://liujiacai.net"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Web/">Web</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/reproduce/">他山之石</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/bigdata/">大数据</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/search-engine/">搜索引擎</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/life/">热爱生活</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/aha-computer/">理解计算机</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/研习经典/">研习经典</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/langs/">编程语言</a><span class="category-list-count">26</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/java/" style="font-size: 15px;">Java</a> <a href="/tags/music/" style="font-size: 15px;">music</a> <a href="/tags/GEB/" style="font-size: 15px;">GEB</a> <a href="/tags/lucene/" style="font-size: 15px;">lucene</a> <a href="/tags/mooc/" style="font-size: 15px;">mooc</a> <a href="/tags/hadoop/" style="font-size: 15px;">hadoop</a> <a href="/tags/algorithm/" style="font-size: 15px;">算法</a> <a href="/tags/mozilla/" style="font-size: 15px;">mozilla</a> <a href="/tags/best-practice/" style="font-size: 15px;">最佳实践</a> <a href="/tags/lambda/" style="font-size: 15px;">Lambda</a> <a href="/tags/lisp/" style="font-size: 15px;">Lisp</a> <a href="/tags/linux/" style="font-size: 15px;">Linux</a> <a href="/tags/javascript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/sicp/" style="font-size: 15px;">sicp</a> <a href="/tags/nodejs/" style="font-size: 15px;">nodejs</a> <a href="/tags/scheme/" style="font-size: 15px;">Scheme</a> <a href="/tags/string/" style="font-size: 15px;">string</a> <a href="/tags/python/" style="font-size: 15px;">Python</a> <a href="/tags/ruby/" style="font-size: 15px;">Ruby</a> <a href="/tags/Clojure/" style="font-size: 15px;">Clojure</a> <a href="/tags/ideas/" style="font-size: 15px;">ideas</a> <a href="/tags/gc/" style="font-size: 15px;">GC</a> <a href="/tags/Go/" style="font-size: 15px;">Go</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/blog/2020/08/08/go-meet-java/">在 Java 中调用 Go 代码</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2020/03/14/go-struct-interface/">Go struct/interface 最佳实践</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2020/02/02/review-2019/">2019 年终总结</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/10/24/go-modules/">何处安放我们的 Go 代码</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/07/17/hello-golang/">写给新手的 Go 开发指南</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/04/21/experience-in-clojure/">Clojure 开发经验总结</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/01/09/java-gc-definitive-guide/">Java 垃圾回收权威指北</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/12/29/how-java-synchronizer-work/">Java 线程同步原理探析</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/11/10/damn-single-socket/">形单影只的 Socket</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/08/18/generational-gc/">深入浅出垃圾回收（四）分代式 GC</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//jiacai2050.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">Keep Coding.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>