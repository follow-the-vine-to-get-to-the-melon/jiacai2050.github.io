<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Do have faith in what you are doing."><title>让firefox与chrome一样快 | Keep Coding</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-50745138-1','auto');ga('send','pageview');
</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = 'https://hm.baidu.com/hm.js?' + '3ffc15f400ce3f8b1db5afc4f29b6ce9';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();</script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">让firefox与chrome一样快</h1><a id="logo" href="/.">Keep Coding</a><p class="description">Stay hungry, Stay foolish</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/blogrolls/"><i class="fa fa-group"> 友情链接</i></a><a href="/podcast/"><i class="fa fa-podcast"> Podcast</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">让firefox与chrome一样快</h1><div class="post-meta">Nov 8, 2014<span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 2.4k</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-hourglass-half"></i><span class="post-count"> 8</span><span class="post-meta-item-text"> 分钟</span></span></span></div><a class="disqus-comment-count" data-disqus-identifier="blog/2014/11/08/secret-of-firefox-prefs/" href="/blog/2014/11/08/secret-of-firefox-prefs/#disqus_thread"></a><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#渲染-render-相关"><span class="toc-number">1.</span> <span class="toc-text">渲染(render)相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#减少渲染延迟"><span class="toc-number">1.1.</span> <span class="toc-text">减少渲染延迟</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#减少reflow次数"><span class="toc-number">1.2.</span> <span class="toc-text">减少reflow次数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#控制”不响应“时间"><span class="toc-number">1.3.</span> <span class="toc-text">控制”不响应“时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#控制”高响应“时间"><span class="toc-number">1.4.</span> <span class="toc-text">控制”高响应“时间</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#网络-network-相关"><span class="toc-number">2.</span> <span class="toc-text">网络(network)相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pipelining"><span class="toc-number">2.1.</span> <span class="toc-text">pipelining</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dns"><span class="toc-number">2.2.</span> <span class="toc-text">dns</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他"><span class="toc-number">2.3.</span> <span class="toc-text">其他</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#内存（memory）相关"><span class="toc-number">3.</span> <span class="toc-text">内存（memory）相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#增大缓存空间"><span class="toc-number">3.1.</span> <span class="toc-text">增大缓存空间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#减少历史记录"><span class="toc-number">3.2.</span> <span class="toc-text">减少历史记录</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#即时编译（JIT）"><span class="toc-number">4.</span> <span class="toc-text">即时编译（JIT）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-number">5.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考"><span class="toc-number">6.</span> <span class="toc-text">参考</span></a></li></ol></div></div><div class="post-content"><p>在如今这个Web时代，浏览器可以说是仅次于操作系统的软件了，各种应用都可以放到云端、移动端随时随地的使用，<a href="http://www.w3.org/TR/html5/" target="_blank" rel="noopener">HTML5标准</a>的最终版正式<a href="http://www.w3.org/blog/news/archives/4167" target="_blank" rel="noopener">发布</a>， 再次为使用Web技术开发跨平台应用奠定了基石。</p>
<p>HTML5现在是有统一标准了，但用户使用的浏览器可是五花八门了，身为程序员，IE可以忽略，一般linux下就是chrome与firefox，chrome快是快，就是太吃内存，所以在一些”老机器“上不敢用，下面就剩下firefox了，其实我自从看了《Code Rush》这个记录片以后，十分崇拜上个世纪有那么一群极客聚在一起，开发了很多促进了互联网发展的技术，以前我也写的文章<a href="/blog/2014/09/14/mozilla-history/">《Mozilla前世今生》</a>说过，这里就不在多说了。</p>
<p>但是不得不说的是firefox确实比chrome慢，有时候感觉chrome只需要一眨眼就能打开的网页，而firefox却要等上那么3、4秒，我真是无法忍受了。趁着这几天开发<a href="/gooreplacer/">gooreplacer</a>这个插件，又深入了解了下firefox一些工作机制，发现我们可以在不升级内存的情况下加速firefox打开网页的时间，我自己亲自实验了下，速度确实提了不少，现与大家分享之。</p>
<p>firefox的配置我们一般可以在”工具 -&gt; 选项“菜单中找到，但是还有一些配置项并不在这里，在firefox中地址栏输入about:config，回车，进入时应该会有个警告，忽略之，之后就应该能看到很多如下的配置项了。</p>
<p><img src="http://img04.taobaocdn.com/imgextra/i4/581166664/TB2L8ImaVXXXXcqXpXXXXXXXXXX_!!581166664.png" alt=" about-config截图"></p>
<p>这些配置项定义了很多浏览器的的默认参数，但不是全部，我们可以根据实际情况自己添加。使用上方的搜索输入框我们能够很容易地找到感兴趣的配置项。这里的配置项类型分三种：integer、boolean、string。这些配置项保存在本地一个叫prefs.js的文件中，prefs.js根据操作系统不同位置不同：</p>
<figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Linxu</span></span><br><span class="line">~<span class="regexp">/.mozilla/firefox/</span>&lt;profile ID&gt;.<span class="keyword">default</span>/</span><br><span class="line"><span class="comment"># WinXP</span></span><br><span class="line">C:<span class="string">\Documents</span> <span class="keyword">and</span> Settings<span class="string">\&lt;username&gt;\Application</span> Data<span class="string">\Mozilla\Firefox\Profiles\&lt;profile</span> ID&gt;.<span class="keyword">default</span><span class="string">\</span></span><br></pre></td></tr></table></figure>
<p>需要说明一点的是，我们最好不要直接修改这个文件，如果非修改不可，<strong>最好事先备份一份</strong>。<br>如果你想找到你机器上prefs.js文件在哪里，使用操作系统自带的搜索功能就好了。linux上可以使用这个命令：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find ~/.mozilla/firefox | grep prefs.js</span><br></pre></td></tr></table></figure></p>
<p>下面重点说一些能够改善用户体验的配置项。<br>事先说明一下，我这里只介绍了很小一部分配置项，更多的配置项以及每个配置项的含义大家可以在<a href="http://kb.mozillazine.org/Category:Preferences" target="_blank" rel="noopener">mozillazine</a>中找到。</p>
<h2 id="渲染-render-相关"><a href="#渲染-render-相关" class="headerlink" title="渲染(render)相关"></a>渲染(render)相关</h2><h3 id="减少渲染延迟"><a href="#减少渲染延迟" class="headerlink" title="减少渲染延迟"></a>减少渲染延迟</h3><p>创建一个整型配置项<code>nglayout.initialpaint.delay</code>，这个配置定义了firefox在下载完HTML、CSS等资源后，到真正开始渲染的时间间隔，如果不设置，默认为250毫秒。如果设置为0,就能在使浏览器立即渲染了。</p>
<p>后面有细心的读者疑问为什么要有这个延迟，去看<a href="http://kb.mozillazine.org/Nglayout.initialpaint.delay" target="_blank" rel="noopener">官方解释</a>就很清楚了:</p>
<blockquote>
<p>Since the start of a web page normally doesn’t have much useful information to display, Mozilla applications will wait a short interval before first rendering a page.</p>
</blockquote>
<h3 id="减少reflow次数"><a href="#减少reflow次数" class="headerlink" title="减少reflow次数"></a>减少reflow次数</h3><p>当firefox加载一个网页时，它会在加载过程中，根据加载的数据，不间断的对页面进行<a href="http://www.blueidea.com/tech/web/2007/4950.asp" target="_blank" rel="noopener">reflow</a>。创建一个整型配置项<code>content.notify.interval</code>，它能够控制两次reflow的间隔，它的单位是微秒，如果不设置，默认为120000（即0.12秒）。如果reflow次数过多，就会使得浏览器反应迟钝了，所以我们应该把这个值设的大些，500000（即0.5秒）或1000000（即1秒）都可以。<br>需要注意一点的是，如果要是<code>content.notify.interval</code>这个配置项生效，需要先创建一个布尔型的配置项<code>content.notify.ontimer</code>，并且设为true。<br>其次可以通过设置一个整型配置项<code>content.notify.backoffcount</code>控制reflow执行的最大次数，我这里设为5。</p>
<h3 id="控制”不响应“时间"><a href="#控制”不响应“时间" class="headerlink" title="控制”不响应“时间"></a>控制”不响应“时间</h3><p>在渲染一个网页时，firefox会间歇性地加速渲染过程，mozilla称之为tokenizing。但是这个加速是有代价的，在tokenizing过程中，浏览器不能响应用户的输入，tokenizing的时间长度是由一个整型配置项<code>content.max.tokenizing.time</code>控制的。一般来说，把这个配置项的值设为<code>content.notify.interval</code>值或者它的倍数。如果<code>content.max.tokenizing.time</code>的值小于<code>content.notify.interval</code>的值，浏览器就会因为过多响应用户输入而导致整个加载过程变慢。<br>需要注意一点的是，如果要是<code>content.max.tokenizing.time</code>这个配置项生效，需要先创建两个个布尔型的配置项<code>content.notify.ontimer</code>与<code>content.interrupt.parsing</code>，并且都设为true。</p>
<h3 id="控制”高响应“时间"><a href="#控制”高响应“时间" class="headerlink" title="控制”高响应“时间"></a>控制”高响应“时间</h3><p>在渲染一个页面时，用户如果进行了某些操作（比如向下滚动）时，firefox会预留更多的时间来响应用户的输入，这里的时间间隔是由一个整型配置项<code>content.switch.threshold</code>设置的。它的值一般是<code>content.notify.interval</code>的三倍，  但是如果我们把这个值调小些，这时firefox虽然对用户的响应不会那么及时，但是会明显加速页面的渲染过程。<br>如果你倾向于在网页加载完成后在进行操作（比如向下滚动），可以把<code>content.max.tokenizing.time</code>值设的大些，<code>content.switch.threshold</code>值设的小些；</p>
<h2 id="网络-network-相关"><a href="#网络-network-相关" class="headerlink" title="网络(network)相关"></a>网络(network)相关</h2><p>与网络相关的参数一样要慎重设置，否则你的CPU会飙升到90%以上。。。</p>
<h3 id="pipelining"><a href="#pipelining" class="headerlink" title="pipelining"></a>pipelining</h3><p>把<code>network.http.pipelining</code>与<code>network.http.proxy.pipelining</code>设置为true<br><code>network.http.pipelining.maxrequests</code>可根据实际情况设置，我电脑上是默认值32.</p>
<h3 id="dns"><a href="#dns" class="headerlink" title="dns"></a>dns</h3><p>把<code>network.dns.disableIPv6</code>设为true，因为现在的网站都是ipv4,没听过那个网站是v6的。<br><code>network.dnsCacheEntries</code>，这个设置firefox最多保存dns的数目，可根据个人情况设置，我电脑上chrome大约缓存了1500多个，这是chrome快的原因之一。<br><code>network.dnsCacheExpiration</code>，dns的有限期限，单位为秒，可根据个人情况设置。</p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>与网络相关的配置项还有很多都是以<code>network.http.</code>，大家可自行修改之。</p>
<h2 id="内存（memory）相关"><a href="#内存（memory）相关" class="headerlink" title="内存（memory）相关"></a>内存（memory）相关</h2><h3 id="增大缓存空间"><a href="#增大缓存空间" class="headerlink" title="增大缓存空间"></a>增大缓存空间</h3><p>这里说的缓存空间可以用来缓存网页中的图片等资源，整型配置项<code>browser.cache.memory.capacity</code>设置了缓存的最大值，单位为KB，大家根据自己需求修改即可。<br>整型配置项<code>browser.cache.memory.max_entry_size</code>设置了最大缓存资源数。</p>
<p>需要注意的是，要是上面两个配置项生效，需要把布尔型配置项<code>browser.cache.memory.enable</code>设置为true。</p>
<p>查看当前firefox使用缓存的情况，可以在地址栏输入<code>about:cache?device=memory</code> 查看。</p>
<h3 id="减少历史记录"><a href="#减少历史记录" class="headerlink" title="减少历史记录"></a>减少历史记录</h3><p>firefox会把我们已经访问过得网页缓存起来，这样是加速我们下次打开的速度，但是默认的参数有些粗暴了，可以适当修改，毕竟这些东西都是占用内存的。主要有下面三个（如果某个配置项不存在，就用的是默认值）：</p>
<ul>
<li><code>browser.history_expire_days</code>这个配置项设置缓存失效的时间，默认为180，可以改为5天。</li>
<li><code>browser.history_expire_days_min</code>很明显，这是个配置项限制了最小的失效天数，默认90，可改为5</li>
<li><code>browser.history_expire_sites</code>这个配置项决定了，历史记录中可以最多存储多少个网站，默认为20000，还是觉得有些大了，可改为500</li>
</ul>
<h2 id="即时编译（JIT）"><a href="#即时编译（JIT）" class="headerlink" title="即时编译（JIT）"></a>即时编译（JIT）</h2><p>这里的JIT主要指的是JavaScript，我首次接触JIT还是在Java上，新版Android不也是通过JIT来提高系统的运行速度嘛。<br>firefox的JIT是通过<a href="https://wiki.mozilla.org/JavaScript:TraceMonkey" target="_blank" rel="noopener">TraceMonkey</a>这个JavaScript引擎实现的，这里主要有两个布尔型配置项：</p>
<ul>
<li><code>javascript.options.jit.content</code>，这个主要是用来JIT网页中的JS的，貌似默认就是true</li>
<li><code>javascript.options.jit.chrome</code>，这个主要是用来JIT扩展（XUL/chrome）中的JS的，默认好像没有这个配置项，我们可以手动创建，设置为true。</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>我发现firefox比chrome慢的原因是，很多配置项firefox设置的比较保守，这么做无非是照顾一些“老机器”了，把更多的选择权交给了用户；chrome的默认配置就比较简单暴力了，光是separate-process-per-tab这个就把大家电脑的内存占用了大半。Firefox的<a href="https://wiki.mozilla.org/Electrolysis" target="_blank" rel="noopener">E10 project也称Electrolysis</a>其实也对这项技术提供了支持，但是只在<a href="http://nightly.mozilla.org/" target="_blank" rel="noopener">nightly</a>版本上可用，因为这个技术会导致<a href="https://developer.mozilla.org/en-US/Add-ons/Working_with_multiprocess_Firefox" target="_blank" rel="noopener">很多插件无法使用</a>，所有没有集成到正式版上，firefox更看重软件的兼容性。<br>其实chrome自2008年9月发布，在很短的时间内就超过了firefox的市场份额，究其原因就是顺应了大家对“用户体验”的追求，硬件升级现在很简单，买个内存条也很便宜；而从上个世纪走过来的firefox，相比之下显得保守了，这也可以理解，毕竟早期大家的电脑配置都不高。大家有兴趣的可以去看看<a href="https://www.mozilla.org/en-US/firefox/releases/" target="_blank" rel="noopener">Firefox Release Notes</a>了解Firefox的版本更新信息。</p>
<p>Happy Hacking！</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="http://www.computerworld.com/article/2541429/networking/hacking-firefox--the-secrets-of-about-config.html" target="_blank" rel="noopener">Hacking Firefox: The secrets of about:config</a></li>
<li><a href="http://wikimatze.de/making-firefox-as-fast-as-chrome/" target="_blank" rel="noopener">Making Firefox as Fast as Chrome</a></li>
<li><a href="https://www.wikivs.com/wiki/Chrome_vs_Firefox" target="_blank" rel="noopener">Chrome_vs_Firefox</a></li>
<li><a href="http://www.quora.com/Mozilla-Firefox-Why-hasnt-firefox-adopted-a-chrome-like-model-of-having-each-tab-as-a-separate-process" target="_blank" rel="noopener">Why-hasnt-firefox-adopted-tab-as-a-separate-process-like-chrome</a></li>
<li><a href="https://areweslimyet.com/" target="_blank" rel="noopener">Firefox memory benchmark</a></li>
<li><a href="http://www.kuqin.com/shuoit/20091006/70402.html" target="_blank" rel="noopener">如何优化Firefox才能比Chrome更快</a></li>
</ul>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a class="article-share-link" data-url="http://liujiacai.net/blog/2014/11/08/secret-of-firefox-prefs/" data-id="ck7sg88620017gkljwpxqrmw0" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACH0lEQVR42u3ay46DMAwF0P7/TzPbkWag1w6tRHxYVS2UnCys+PF6xdfx6zr75vr+9f+84cLAwHgs47i87tqns/88W0O+NgwMjDmMsxf3Pl8vrveuN2vGwMDAiO/Jwb2twcDAwKgykgNcku4mPAwMDIwkiU2eWqmJfSkXx8DAeCAjL5Z9//NH+hsYGBiPYhzFKzmufToQ//PPGBgYWzPyAJfDqsgoQU2GOTAwMLZmXP+QjERU25bVhsH1qjAwMCYw8jBa3ZukfJYD3vAwMDA2ZawE2eqzSYMhOvz9fRcGBsYwRq9NuF5Wy1PZN1VDDAyM7RjXj/WS1d4WrA+KYWBg7M1YGQKrHit7m5WU6jAwMCYwqgEuod7V4IzCOgYGxqaMcp+zdfjLC/29ZgMGBgbGEVxRp7TY4My3FQMDY29GtWRfHbnotQGWtgkDA2NTRn5rPjSWl+eqbYPTXzEwMMYwqt/kr1lpKkRBHwMDYxgjSTLzhDbfiF6zAQMDYw6jWvZaaQzkgbiwNRgYGIMZ1aR0PbBWn8LAwJjDaA46xMH3rjLc6Z0YGBibMu4q6N/1bDlxxcDAGMBYSUHzFyRLTFLlaGYEAwNjU0a10L/y+vxgWg64GBgYAxj5snrjFHe1GQq5OAYGxmBG73hXHSwrD6JhYGBgtEpd1ZZkrySHgYExh5Ec7PLjXXXUtTrGgYGBMY3RC51JGK0ObVSfwsDAGMD4AdczapiXZh9oAAAAAElFTkSuQmCC">分享</a><div class="tags"><a href="/tags/mozilla/">mozilla</a><a href="/tags/best-practice/">最佳实践</a></div><div class="post-nav"><a class="pre" href="/blog/2014/11/23/first-taste-of-macbook/">MacBook 最佳实践</a><a class="next" href="/blog/2014/10/12/lambda-calculus-introduction/">编程语言的基石——Lambda calculus</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">阅读评论（请确保 Disqus 可以正常加载）</button></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'http://liujiacai.net/blog/2014/11/08/secret-of-firefox-prefs/';
    this.page.identifier = 'blog/2014/11/08/secret-of-firefox-prefs/';
    this.page.title = '让firefox与chrome一样快';
  };</script><script type="text/javascript" id="disqus-lazy-load-script">$.ajax({
url: 'https://disqus.com/next/config.json',
timeout: 2500,
type: 'GET',
success: function(){
  var d = document;
  var s = d.createElement('script');
  s.src = '//jiacai2050.disqus.com/embed.js';
  s.setAttribute('data-timestamp', + new Date());
  (d.head || d.body).appendChild(s);
  $('.disqus_click_btn').css('display', 'none');
},
error: function() {
  $('.disqus_click_btn').css('display', 'block');
}
});</script><script type="text/javascript" id="disqus-click-load">$('.btn_click_load').click(() => {  //click to load comments
    (() => { // DON'T EDIT BELOW THIS LINE
        var d = document;
        var s = d.createElement('script');
        s.src = '//jiacai2050.disqus.com/embed.js';
        s.setAttribute('data-timestamp', + new Date());
        (d.head || d.body).appendChild(s);
    })();
    $('.disqus_click_btn').css('display','none');
});</script><script type="text/javascript" id="disqus-count-script">$(function() {
     var xhr = new XMLHttpRequest();
     xhr.open('GET', '//disqus.com/next/config.json', true);
     xhr.timeout = 2500;
     xhr.onreadystatechange = function () {
       if (xhr.readyState === 4 && xhr.status === 200) {
         $('.post-meta .post-comments-count').show();
         var s = document.createElement('script');
         s.id = 'dsq-count-scr';
         s.src = 'https://jiacai2050.disqus.com/count.js';
         s.async = true;
         (document.head || document.body).appendChild(s);
       }
     };
     xhr.ontimeout = function () { xhr.abort(); };
     xhr.send(null);
   });
</script></div></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://liujiacai.net"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Web/">Web</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/reproduce/">他山之石</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/bigdata/">大数据</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/search-engine/">搜索引擎</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/life/">热爱生活</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/aha-computer/">理解计算机</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/研习经典/">研习经典</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/langs/">编程语言</a><span class="category-list-count">25</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/music/" style="font-size: 15px;">music</a> <a href="/tags/GEB/" style="font-size: 15px;">GEB</a> <a href="/tags/java/" style="font-size: 15px;">Java</a> <a href="/tags/lucene/" style="font-size: 15px;">lucene</a> <a href="/tags/mooc/" style="font-size: 15px;">mooc</a> <a href="/tags/hadoop/" style="font-size: 15px;">hadoop</a> <a href="/tags/algorithm/" style="font-size: 15px;">算法</a> <a href="/tags/mozilla/" style="font-size: 15px;">mozilla</a> <a href="/tags/lambda/" style="font-size: 15px;">Lambda</a> <a href="/tags/lisp/" style="font-size: 15px;">Lisp</a> <a href="/tags/best-practice/" style="font-size: 15px;">最佳实践</a> <a href="/tags/linux/" style="font-size: 15px;">Linux</a> <a href="/tags/javascript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/sicp/" style="font-size: 15px;">sicp</a> <a href="/tags/scheme/" style="font-size: 15px;">Scheme</a> <a href="/tags/nodejs/" style="font-size: 15px;">nodejs</a> <a href="/tags/string/" style="font-size: 15px;">string</a> <a href="/tags/python/" style="font-size: 15px;">Python</a> <a href="/tags/ruby/" style="font-size: 15px;">Ruby</a> <a href="/tags/Clojure/" style="font-size: 15px;">Clojure</a> <a href="/tags/ideas/" style="font-size: 15px;">ideas</a> <a href="/tags/gc/" style="font-size: 15px;">GC</a> <a href="/tags/Go/" style="font-size: 15px;">Go</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/blog/2020/03/14/go-struct-interface/">Go struct/interface 实践分享</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2020/02/02/review-2019/">2019 年终总结</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/10/24/go-modules/">何处安放我们的 Go 代码</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/07/17/hello-golang/">写给新手的 Go 开发指南</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/04/21/experience-in-clojure/">Clojure 开发经验总结</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2019/01/09/java-gc-definitive-guide/">Java 垃圾回收权威指北</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/12/29/how-java-synchronizer-work/">Java 线程同步原理探析</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/11/10/damn-single-socket/">形单影只的 Socket</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/08/18/generational-gc/">深入浅出垃圾回收（四）分代式 GC</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2018/08/04/incremental-gc/">深入浅出垃圾回收（三）增量式 GC</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//jiacai2050.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">Keep Coding.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>